{"version":3,"file":"validateRegistration.min.js","sources":["../src/validateRegistration.js"],"sourcesContent":["export const validate = () => {\n\n    const form = document.querySelector('.mform.full-width-labels, .mform');\n    const phoneInput = document.getElementById('id_profile_field_phonenumber');\n    const dayInput = document.getElementById('id_profile_field_dataofbirth_day');\n    const monthInput = document.getElementById('id_profile_field_dataofbirth_month');\n    const yearInput = document.getElementById('id_profile_field_dataofbirth_year');\n    const occupationInput = document.getElementById('id_profile_field_occupation');\n    const genderInput = document.getElementById('id_profile_field_gender');\n    const genderOtherInput = document.getElementById(\"fitem_id_profile_field_gender_other\");\n    const occupationOtherInput = document.getElementById(\"fitem_id_profile_field_occupation_other\");\n    const occupationSocialMediaInput1 = document.getElementById('fitem_id_profile_field_occupation_socialmedia1');\n    const occupationSocialMediaInput2 = document.getElementById('fitem_id_profile_field_occupation_socialmedia2');\n    const occupationSocialMediaInput3 = document.getElementById('fitem_id_profile_field_occupation_socialmedia3');\n    const occupationSocialMediaInput4 = document.getElementById('fitem_id_profile_field_occupation_socialmedia4');\n\n    form.addEventListener('submit', function(event) {\n        const phoneNumber = libphonenumber.parsePhoneNumberFromString(phoneInput.value, 'BR');\n        \n        if(!phoneNumber || !phoneNumber.isValid()){\n            event.preventDefault();\n            alert('Digite um número de telefone válido.');\n            phoneInput.focus();\n            return false;\n        }\n\n        if(!EighteenYearsPassed(dayInput.value,monthInput.value,yearInput.value)){\n            event.preventDefault();\n            alert('É necessário ter 18 anos ou mais para se registrar neste site.');\n            return false;\n        }\n    });\n\n    occupationInput.addEventListener(\"change\", function() {\n        if (occupationInput.value === \"Outro\") {\n            occupationOtherInput.style.display = \"flex\"; // Show the hidden field\n            occupationOtherInput.focus();\n        } else {\n            occupationOtherInput.style.display = \"none\"; // Hide the field if another option is selected\n            const occupationText = occupationOtherInput.querySelector(\"#id_profile_field_occupation_other\");\n            occupationText.value = \"\";\n        }\n    });\n\n    occupationInput.addEventListener(\"change\", function() {\n        if (occupationInput.value.includes(\"Trabalhador(a)\"))  {\n            occupationSocialMediaInput1.style.display = \"flex\"; // Show the hidden field\n            occupationSocialMediaInput1.focus();\n            occupationSocialMediaInput2.style.display = \"flex\"; // Show the hidden field\n            occupationSocialMediaInput3.style.display = \"flex\"; // Show the hidden field\n            occupationSocialMediaInput4.style.display = \"flex\"; // Show the hidden field\n        } else {\n            occupationSocialMediaInput1.style.display = \"none\"; // Hide the field if another option is selected\n            const occupationSocialMediaText1 = occupationSocialMediaInput1.querySelector(\"#id_profile_field_occupation_socialmedia1\");\n            occupationSocialMediaText1.value = \"\";\n            occupationSocialMediaInput2.style.display = \"none\"; // Hide the field if another option is selected\n            const occupationSocialMediaText2 = occupationSocialMediaInput2.querySelector(\"#id_profile_field_occupation_socialmedia2\");\n            occupationSocialMediaText2.value = \"\";\n            occupationSocialMediaInput3.style.display = \"none\"; // Hide the field if another option is selected\n            const occupationSocialMediaText3 = occupationSocialMediaInput3.querySelector(\"#id_profile_field_occupation_socialmedia3\");\n            occupationSocialMediaText3.value = \"\";\n            occupationSocialMediaInput4.style.display = \"none\"; // Hide the field if another option is selected\n            const occupationSocialMediaText = occupationSocialMediaInput1.querySelector(\"#id_profile_field_occupation_socialmedia4\");\n            occupationSocialMediaText.value = \"\";\n        }\n    });\n\n    genderInput.addEventListener(\"change\", function() {\n        if (genderInput.value === \"Outros\") {\n            genderOtherInput.style.display = \"flex\"; // Show the hidden field\n            genderOtherInput.focus();\n        } else {\n            genderOtherInput.style.display = \"none\"; // Hide the field if another option is selected\n            const genderText = occupationOtherInput.querySelector(\"#id_profile_field_gender_other\");\n            genderText.value = \"\";\n        }\n    });\n};\n\nfunction EighteenYearsPassed(day, month, year) {\n    // Convert strings to integers\n    const dayInt = parseInt(day, 10);\n    const monthInt = parseInt(month, 10) - 1; // Month is 0-indexed in JavaScript Date\n    const yearInt = parseInt(year, 10);\n  \n    // Create a date object for the input date\n    const inputDate = new Date(yearInt, monthInt, dayInt);\n    // Get the current date\n    const currentDate = new Date();\n  \n    // Calculate the date exactly 18 years ago\n    const date18YearsAgo = new Date();\n    date18YearsAgo.setFullYear(currentDate.getFullYear() - 18);\n  \n    // Check if the input date is on or before the date 18 years ago\n    return inputDate <= date18YearsAgo;\n  }"],"names":["_exports","validate","form","document","querySelector","phoneInput","getElementById","dayInput","monthInput","yearInput","occupationInput","genderInput","genderOtherInput","occupationOtherInput","occupationSocialMediaInput1","occupationSocialMediaInput2","occupationSocialMediaInput3","occupationSocialMediaInput4","addEventListener","event","phoneNumber","libphonenumber","parsePhoneNumberFromString","value","isValid","day","month","year","dayInt","parseInt","monthInt","yearInt","inputDate","Date","currentDate","date18YearsAgo","setFullYear","getFullYear","EighteenYearsPassed","preventDefault","alert","focus","style","display","includes"],"mappings":"+JA6EEA,SAAAC,SA7EsBA,KAEpB,MAAMC,KAAOC,SAASC,cAAc,oCAC9BC,WAAaF,SAASG,eAAe,gCACrCC,SAAWJ,SAASG,eAAe,oCACnCE,WAAaL,SAASG,eAAe,sCACrCG,UAAYN,SAASG,eAAe,qCACpCI,gBAAkBP,SAASG,eAAe,+BAC1CK,YAAcR,SAASG,eAAe,2BACtCM,iBAAmBT,SAASG,eAAe,uCAC3CO,qBAAuBV,SAASG,eAAe,2CAC/CQ,4BAA8BX,SAASG,eAAe,kDACtDS,4BAA8BZ,SAASG,eAAe,kDACtDU,4BAA8Bb,SAASG,eAAe,kDACtDW,4BAA8Bd,SAASG,eAAe,kDAE5DJ,KAAKgB,iBAAiB,UAAU,SAASC,OACrC,MAAMC,YAAcC,eAAeC,2BAA2BjB,WAAWkB,MAAO,MAEhF,OAAIH,aAAgBA,YAAYI,UA4DxC,SAA6BC,IAAKC,MAAOC,MAErC,MAAMC,OAASC,SAASJ,IAAK,IACvBK,SAAWD,SAASH,MAAO,IAAM,EACjCK,QAAUF,SAASF,KAAM,IAGzBK,UAAY,IAAIC,KAAKF,QAASD,SAAUF,QAExCM,YAAc,IAAID,KAGlBE,eAAiB,IAAIF,KAI3B,OAHAE,eAAeC,YAAYF,YAAYG,cAAgB,IAGhDL,WAAaG,cACtB,CAtEUG,CAAoB/B,SAASgB,MAAMf,WAAWe,MAAMd,UAAUc,YAAlE,GACIJ,MAAMoB,iBACNC,MAAM,mEACC,IATPrB,MAAMoB,iBACNC,MAAM,wCACNnC,WAAWoC,SACJ,EAQf,IAEA/B,gBAAgBQ,iBAAiB,UAAU,WACvC,GAA8B,UAA1BR,gBAAgBa,MAChBV,qBAAqB6B,MAAMC,QAAU,OACrC9B,qBAAqB4B,YAClB,CACH5B,qBAAqB6B,MAAMC,QAAU,OACd9B,qBAAqBT,cAAc,sCAC3CmB,MAAQ,EAC3B,CACJ,IAEAb,gBAAgBQ,iBAAiB,UAAU,WACvC,GAAIR,gBAAgBa,MAAMqB,SAAS,kBAC/B9B,4BAA4B4B,MAAMC,QAAU,OAC5C7B,4BAA4B2B,QAC5B1B,4BAA4B2B,MAAMC,QAAU,OAC5C3B,4BAA4B0B,MAAMC,QAAU,OAC5C1B,4BAA4ByB,MAAMC,QAAU,WACzC,CACH7B,4BAA4B4B,MAAMC,QAAU,OACT7B,4BAA4BV,cAAc,6CAClDmB,MAAQ,GACnCR,4BAA4B2B,MAAMC,QAAU,OACT5B,4BAA4BX,cAAc,6CAClDmB,MAAQ,GACnCP,4BAA4B0B,MAAMC,QAAU,OACT3B,4BAA4BZ,cAAc,6CAClDmB,MAAQ,GACnCN,4BAA4ByB,MAAMC,QAAU,OACV7B,4BAA4BV,cAAc,6CAClDmB,MAAQ,EACtC,CACJ,IAEAZ,YAAYO,iBAAiB,UAAU,WACnC,GAA0B,WAAtBP,YAAYY,MACZX,iBAAiB8B,MAAMC,QAAU,OACjC/B,iBAAiB6B,YACd,CACH7B,iBAAiB8B,MAAMC,QAAU,OACd9B,qBAAqBT,cAAc,kCAC3CmB,MAAQ,EACvB,CACJ,GAAE,CAoBH"}