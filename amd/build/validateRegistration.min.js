define("theme_fosbrazil/validateRegistration",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.validate=void 0;_exports.validate=()=>{const form=document.querySelector(".mform.full-width-labels, .mform"),cpfInput=document.getElementById("id_profile_field_cpf_number"),phoneInput=document.getElementById("id_profile_field_phonenumber"),dayInput=document.getElementById("id_profile_field_dataofbirth_day"),monthInput=document.getElementById("id_profile_field_dataofbirth_month"),yearInput=document.getElementById("id_profile_field_dataofbirth_year"),occupationInput=document.getElementById("id_profile_field_occupation"),genderInput=document.getElementById("id_profile_field_gender"),genderOtherInput=document.getElementById("fitem_id_profile_field_gender_other"),occupationOtherInput=document.getElementById("fitem_id_profile_field_occupation_other"),occupationSocialMediaInput1=document.getElementById("fitem_id_profile_field_occupation_socialmedia1"),occupationSocialMediaInput2=document.getElementById("fitem_id_profile_field_occupation_socialmedia2"),occupationSocialMediaInput3=document.getElementById("fitem_id_profile_field_occupation_socialmedia3"),occupationSocialMediaInput4=document.getElementById("fitem_id_profile_field_occupation_socialmedia4");cpfInput.addEventListener("input",(function(){let value=cpfInput.value.replace(/\D/g,"");value.length>11&&(value=value.slice(0,11)),value.length>=9?cpfInput.value=value.replace(/(\d{3})(\d{3})(\d{3})(\d{0,2})/,"$1.$2.$3-$4"):value.length>=6?cpfInput.value=value.replace(/(\d{3})(\d{3})(\d{0,3})/,"$1.$2.$3"):value.length>=3?cpfInput.value=value.replace(/(\d{3})(\d{0,3})/,"$1.$2"):cpfInput.value=value})),form.addEventListener("submit",(function(event){const phoneNumber=libphonenumber.parsePhoneNumberFromString(phoneInput.value,"BR");return cpf=cpfInput.value,/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(cpf)?function(day,month,year){const dayInt=parseInt(day,10),monthInt=parseInt(month,10)-1,yearInt=parseInt(year,10),inputDate=new Date(yearInt,monthInt,dayInt),currentDate=new Date,date18YearsAgo=new Date;return date18YearsAgo.setFullYear(currentDate.getFullYear()-18),inputDate<=date18YearsAgo}(dayInput.value,monthInput.value,yearInput.value)?phoneNumber&&phoneNumber.isValid()?void 0:(event.preventDefault(),alert("Digite um número de telefone válido."),phoneInput.focus(),!1):(event.preventDefault(),alert("É necessário ter 18 anos ou mais para se registrar neste site."),!1):(event.preventDefault(),alert("Digite um CPF válido no formato 000.000.000-00."),cpfInput.focus(),!1);var cpf})),occupationInput.addEventListener("change",(function(){const value=occupationInput.value,isOutro="Outro"===value;if(occupationOtherInput.style.display=isOutro?"flex":"none",isOutro)occupationOtherInput.focus();else{const occupationText=occupationOtherInput.querySelector("#id_profile_field_occupation_other");occupationText&&(occupationText.value="")}const isTrabalhador=value.includes("Trabalhador(a)");[occupationSocialMediaInput1,occupationSocialMediaInput2,occupationSocialMediaInput3,occupationSocialMediaInput4].forEach(((field,index)=>{const input=field.querySelector(`#id_profile_field_occupation_socialmedia${index+1}`);isTrabalhador?(field.style.display="flex",0===index&&field.focus()):(field.style.display="none",input&&(input.value=""))}))})),genderInput.addEventListener("change",(function(){if("Outros"===genderInput.value)genderOtherInput.style.display="flex",genderOtherInput.focus();else{genderOtherInput.style.display="none";occupationOtherInput.querySelector("#id_profile_field_gender_other").value=""}}))}}));

//# sourceMappingURL=validateRegistration.min.js.map